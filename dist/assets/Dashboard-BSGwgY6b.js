import{c as h,u as M,a as D,r as n,j as e,m as i,A as L,L as b,b as U,d as z,e as G,f as R,R as S,B as q,T as W,g as O,S as Z}from"./index-C1aQpu_j.js";import{A as _}from"./award-DTbBqCTe.js";import{C as Q}from"./calendar-Cz86ERDl.js";import{P as V}from"./plus-Dzq5aapq.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=h("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=h("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=h("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=h("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=h("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=h("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),N=r=>{const s={fullName:"Student",profilePhoto:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"%3E%3Ccircle cx="50" cy="50" r="50" fill="%23e0e0e0"/%3E%3Ccircle cx="50" cy="40" r="18" fill="%23999"/%3E%3Cpath d="M 20 85 Q 20 60 50 60 Q 80 60 80 85 Z" fill="%23999"/%3E%3C/svg%3E'};if(!r)return s;try{const t=localStorage.getItem(`userData_${r}`);if(t){const c=JSON.parse(t);return{...s,...c}}}catch{}return s};function te(){const{themeConfig:r}=M(),{user:s}=D(),[t,c]=n.useState(()=>N(s==null?void 0:s.uid)),[d,p]=n.useState(!1),x=n.useRef(null);return n.useEffect(()=>{const m=g=>{s&&g.key===`userData_${s.uid}`&&c(N(s.uid))};return c(N(s==null?void 0:s.uid)),window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}},[s]),n.useEffect(()=>{const m=g=>{x.current&&!x.current.contains(g.target)&&p(!1)};return d&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[d]),e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs(i.div,{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg",whileHover:{backgroundColor:r.hover,scale:1.02},whileTap:{scale:.98},onClick:()=>p(!d),children:[e.jsx("img",{src:t.profilePhoto,alt:"Profile",className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border-2 border-blue-400"}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("h4",{className:`font-semibold ${r.text}`,children:t.fullName}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:`text-sm ${r.textSecondary}`,children:"View Options"}),e.jsx(Y,{size:16,className:`${r.textSecondary} ml-1`})]})]})]}),e.jsx(L,{children:d&&e.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsx(b,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Profile"}),e.jsx(b,{to:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>p(!1),children:"Settings"})]})})})]})}const ae=n.createContext(void 0);function se(){const r=n.useContext(ae);return r||{notifications:[],unreadCount:0,settings:{taskReminders:!0,pomodoroBreaks:!0,weeklyProgress:!1,achievementUnlocked:!0},addNotification:()=>{},markAsRead:()=>{},markAllAsRead:()=>{},removeNotification:()=>{},clearAll:()=>{},updateSettings:()=>{}}}const C=r=>{const s={fullName:"Student"};if(!r)return s;try{const t=localStorage.getItem(`userData_${r}`);if(t){const c=JSON.parse(t);return{...s,...c}}}catch{}return s};function de(){const{tasks:r}=U(),{theme:s,themeConfig:t}=M(),{getTodayClasses:c}=z(),{getGradeStats:d}=G(),{studyMinutes:p,focusSessions:x,getStudyHours:m}=R(),{notifications:g,addNotification:u}=se(),{user:l}=D(),[A,T]=n.useState(()=>C(l==null?void 0:l.uid));n.useEffect(()=>{T(C(l==null?void 0:l.uid))},[l]);const f=S.useMemo(()=>d(),[d]),j=r.filter(a=>a.completed).length,y=r.length,B=y>0?j/y*100:0;n.useEffect(()=>{if(!l)return;const a=`sampleNotificationsAdded_${l.uid}`;!localStorage.getItem(a)&&g.length===0&&u&&setTimeout(()=>{u({type:"task",title:"Welcome to EduNize!",message:"Start organizing your tasks and boost your productivity."}),u({type:"achievement",title:"Getting Started",message:"Complete your first task to unlock achievements!"}),localStorage.setItem(a,"true")},100)},[g.length,u,l]);const H=Math.min(100,p/360*100),I=Math.min(100,x/12*100),E=[{title:"Tasks Completed",value:y===0?"No tasks":`${j}/${y}`,icon:K,color:"bg-green-500",progress:B},{title:"Study Hours",value:m(),icon:q,color:"bg-blue-500",progress:H},{title:"Focus Sessions",value:x.toString(),icon:W,color:"bg-purple-500",progress:I},{title:"Average Grade",value:f.overallPercentage>0?`${Math.round(f.overallPercentage)}%`:"N/A",icon:_,color:"bg-orange-500",progress:f.overallPercentage||0}],w=S.useMemo(()=>r.filter(a=>!a.completed).filter(a=>{const o=new Date(a.dueDate);return!isNaN(o.getTime())}).sort((a,o)=>{const v=new Date(a.dueDate).getTime(),k=new Date(o.dueDate).getTime();return v-k}).slice(0,3),[r]),$=c();return e.jsxs("div",{className:"space-y-6 pb-4 md:pb-28",children:[e.jsxs(i.div,{className:"flex justify-between items-start",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`text-2xl md:text-3xl font-bold ${t.text} mb-2`,children:["Welcome back, ",A.fullName,"! ðŸ‘‹"]}),e.jsx("p",{className:t.textSecondary,children:"Here's what's happening with your studies today"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(te,{})})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`${t.card} p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsx("h2",{className:`text-base md:text-lg font-semibold ${t.text} mb-4`,children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:X,label:"Subjects",path:"/subjects",lightBg:"bg-blue-50",darkBg:"bg-blue-900",lightIcon:"text-blue-600",darkIcon:"text-blue-200",lightHover:"hover:bg-blue-100",darkHover:"hover:bg-blue-800"},{icon:F,label:"Start Timer",path:"/pomodoro",lightBg:"bg-purple-50",darkBg:"bg-purple-900",lightIcon:"text-purple-600",darkIcon:"text-purple-200",lightHover:"hover:bg-purple-100",darkHover:"hover:bg-purple-800"},{icon:O,label:"Grades",path:"/grades",lightBg:"bg-green-50",darkBg:"bg-green-900",lightIcon:"text-green-600",darkIcon:"text-green-200",lightHover:"hover:bg-green-100",darkHover:"hover:bg-green-800"},{icon:ee,label:"Add Task",path:"/tasks",lightBg:"bg-orange-50",darkBg:"bg-orange-900",lightIcon:"text-orange-600",darkIcon:"text-orange-200",lightHover:"hover:bg-orange-100",darkHover:"hover:bg-orange-800"}].map(a=>{const o=s==="dark",v=o?a.darkBg:a.lightBg,k=o?a.darkIcon:a.lightIcon,P=o?a.darkHover:a.lightHover;return e.jsx(b,{to:a.path,className:"block",children:e.jsxs(i.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex flex-col items-center gap-3 p-4 ${v} ${P} rounded-xl transition-all duration-200 shadow-sm`,children:[e.jsx("div",{className:`p-2 rounded-lg ${k}`,children:e.jsx(a.icon,{className:"w-6 h-6"})}),e.jsx("span",{className:`text-sm font-medium ${t.text} text-center`,children:a.label})]})},a.label)})})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:E.map((a,o)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},whileHover:{y:-5},className:`${t.card} p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`${a.color} p-3 rounded-lg`,children:e.jsx(a.icon,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:`text-2xl font-bold ${t.text}`,children:a.value})]}),e.jsx("h3",{className:`text-sm font-medium ${t.textSecondary} mb-3`,children:a.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`flex-1 ${t.background} rounded-full h-2.5`,children:e.jsx(i.div,{className:`h-2.5 ${a.color} rounded-full`,initial:{width:0},animate:{width:`${a.progress}%`},transition:{duration:1,delay:o*.2}})}),e.jsxs("span",{className:`text-xs font-semibold ${t.textSecondary} min-w-[2.5rem] text-right`,children:[Math.round(a.progress),"%"]})]})]},a.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:`lg:col-span-2 ${t.card} p-4 md:p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Q,{className:`w-5 h-5 ${t.primary.replace("bg-","text-")}`}),e.jsx("h2",{className:`text-base md:text-lg font-semibold ${t.text}`,children:"Today's Schedule"})]}),e.jsx("div",{className:"space-y-3",children:$.length===0?e.jsxs("div",{className:"relative text-center py-12 px-6",children:[e.jsx("div",{className:`absolute inset-0 rounded-xl border ${s==="dark"?"bg-gradient-to-br from-gray-800/40 to-gray-900/40 backdrop-blur-sm border-gray-700/50":"bg-gradient-to-br from-blue-50/50 to-purple-50/50 backdrop-blur-sm border-gray-200/50"}`}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(i.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},className:"mb-6",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:`absolute inset-0 ${t.primary.replace("bg-","bg-")} opacity-20 blur-2xl rounded-full`}),e.jsxs("svg",{className:"w-20 h-20 mx-auto relative",viewBox:"0 0 64 64",fill:"none",children:[e.jsx("path",{d:"M12 20h36v24c0 6.627-5.373 12-12 12h-12c-6.627 0-12-5.373-12-12V20z",className:t.primary.replace("bg-","fill-"),opacity:"0.2"}),e.jsx("path",{d:"M12 20h36v24c0 6.627-5.373 12-12 12h-12c-6.627 0-12-5.373-12-12V20z",className:t.primary.replace("bg-","stroke-"),strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M48 28h4c2.21 0 4 1.79 4 4s-1.79 4-4 4h-4",className:t.primary.replace("bg-","stroke-"),strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M16 16c0-2 2-4 4-4h20c2 0 4 2 4 4",className:t.primary.replace("bg-","stroke-"),strokeWidth:"2",strokeLinecap:"round"}),e.jsx(i.path,{d:"M24 12c0-2 1-4 2-4",className:t.primary.replace("bg-","stroke-"),strokeWidth:"2",strokeLinecap:"round",animate:{opacity:[.3,.7,.3]},transition:{duration:2,repeat:1/0}}),e.jsx(i.path,{d:"M32 10c0-2 1-4 2-4",className:t.primary.replace("bg-","stroke-"),strokeWidth:"2",strokeLinecap:"round",animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,delay:.3}}),e.jsx(i.path,{d:"M40 12c0-2 1-4 2-4",className:t.primary.replace("bg-","stroke-"),strokeWidth:"2",strokeLinecap:"round",animate:{opacity:[.4,.8,.4]},transition:{duration:2,repeat:1/0,delay:.6}})]})]})}),e.jsx(i.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:`text-xl font-bold ${t.text} mb-2`,children:"All Clear for Today! âœ¨"}),e.jsx(i.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:`text-sm ${t.textSecondary} mb-6 max-w-md mx-auto`,children:"No classes scheduled. It's a perfect time to crush your personal goals."}),e.jsx(b,{to:"/timetable",children:e.jsxs(i.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3 rounded-xl text-sm font-semibold flex items-center gap-2 mx-auto transition-all duration-200
                        ${s==="dark"?"bg-blue-900 text-blue-200 hover:bg-blue-800":"bg-blue-50 text-blue-600 hover:bg-blue-100"} shadow-sm`,children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Now"})]})})]})]}):$.map((a,o)=>e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:o*.1},className:`flex items-center gap-3 md:gap-4 p-3 ${t.background} rounded-lg`,children:[e.jsx("div",{className:`text-xs md:text-sm font-medium ${t.textSecondary} w-10 md:w-12`,children:a.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-medium ${t.text} text-sm md:text-base`,children:a.subject}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${a.color}`,children:a.type})]})]},o))})]}),e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:`${t.card} p-4 md:p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(J,{className:`w-5 h-5 ${t.secondary.replace("bg-","text-")}`}),e.jsx("h2",{className:`text-base md:text-lg font-semibold ${t.text}`,children:"Upcoming Tasks"})]}),e.jsx("div",{className:"space-y-3",children:w.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Z,{className:`w-12 h-12 mx-auto mb-3 ${t.primary.replace("bg-","text-")} opacity-70`}),e.jsx("p",{className:`text-sm font-semibold ${t.text} mb-1`,children:"You're all caught up! ðŸŽ‰"}),e.jsx("p",{className:`text-xs ${t.textSecondary}`,children:"No pending tasks at the moment"})]}):w.map((a,o)=>e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1},className:`p-3 ${t.background} rounded-lg`,children:[e.jsx("h3",{className:`font-medium ${t.text} text-xs md:text-sm mb-1`,children:a.title}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs ${t.textSecondary}`,children:a.category}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":a.priority==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:a.priority})]})]},a.id))})]})]})]})}export{de as Dashboard};
