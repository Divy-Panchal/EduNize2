import{c as j,u as M,a as z,r,j as e,m as t,U as H,A as O,q as R,E as U,z as n}from"./index-C1aQpu_j.js";import{P as F}from"./palette-DpeC7dls.js";import{T as I}from"./trash-2-CHPsY9sC.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=j("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=j("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=j("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function K(){const{theme:m,setTheme:v,themeConfig:s}=M(),{signOut:$,deleteAccount:S,user:Z}=z(),[C,x]=r.useState(!1),[h,u]=r.useState(""),[g,p]=r.useState(!1),[b,y]=r.useState(!1),N=r.useRef({}),[o,A]=r.useState(()=>{try{const a=localStorage.getItem("notificationSettings");return a?JSON.parse(a):{taskReminders:!0,pomodoroBreaks:!0,weeklyProgress:!1,achievementUnlocked:!0}}catch{return{taskReminders:!0,pomodoroBreaks:!0,weeklyProgress:!1,achievementUnlocked:!0}}});r.useEffect(()=>{localStorage.setItem("notificationSettings",JSON.stringify(o))},[o]);const B=a=>{A(i=>{const l={...i,[a]:!i[a]},c=Date.now(),f=N.current[a]||0;if(c-f>500){N.current[a]=c;const d=a.replace(/([A-Z])/g," $1").trim(),k=d.charAt(0).toUpperCase()+d.slice(1);n.success(`${k} ${l[a]?"enabled":"disabled"}`)}return l})},P=async()=>{try{await $()}catch{n.error("Error signing out")}},T=async()=>{if(!h.trim()){n.error("Please enter your password to confirm deletion");return}y(!0);try{await S(h),x(!1),u(""),p(!1)}catch(a){n.error(a.message||"Failed to delete account")}finally{y(!1)}},w=()=>{x(!1),u(""),p(!1),y(!1)},D=[{id:"default",name:"Ocean Blue",colors:["#3B82F6","#8B5CF6","#10B981"]},{id:"dark",name:"Dark Mode",colors:["#374151","#4B5563","#6B7280"]},{id:"purple",name:"Purple Dream",colors:["#8B5CF6","#EC4899","#F59E0B"]},{id:"green",name:"Nature",colors:["#10B981","#059669","#047857"]}],E=[{label:"Task Reminders",key:"taskReminders"},{label:"Pomodoro Breaks",key:"pomodoroBreaks"},{label:"Weekly Progress",key:"weeklyProgress"},{label:"Achievement Unlocked",key:"achievementUnlocked"}];return e.jsxs("div",{className:"space-y-6 pb-20",children:[e.jsxs(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:`text-2xl md:text-3xl font-bold ${s.text} mb-2`,children:"Settings"}),e.jsx("p",{className:s.textSecondary,children:"Customize your EduOrganize experience"})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:`${s.card} p-4 md:p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(F,{className:`w-6 h-6 ${s.primary.replace("bg-","text-")}`}),e.jsx("h2",{className:`text-lg md:text-xl font-semibold ${s.text}`,children:"Theme"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map((a,i)=>{const l=m===a.id,c=m==="dark"?"bg-blue-900/50":"bg-blue-50",f=m==="dark"?"bg-gray-800/50":"bg-white";return e.jsxs(t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:i*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(a.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${l?`border-blue-500 dark:border-blue-400 ${c}`:`border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 ${f}`}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex gap-1",children:a.colors.map((d,k)=>e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:d}},k))}),e.jsx("span",{className:`font-medium ${s.text} text-sm md:text-base`,children:a.name})]}),l&&e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"âœ“ Currently active"})]},a.id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:`${s.card} p-4 md:p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(q,{className:`w-5 h-5 ${s.secondary.replace("bg-","text-")}`}),e.jsx("h3",{className:`text-base md:text-lg font-semibold ${s.text}`,children:"Notifications"})]}),e.jsx("div",{className:"space-y-4",children:E.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs md:text-sm ${s.text}`,children:a.label}),e.jsx(t.div,{whileTap:{scale:.95},onClick:()=>B(a.key),className:`w-10 h-6 rounded-full cursor-pointer transition-colors duration-200 flex items-center ${o[a.key]?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx(t.div,{className:"w-4 h-4 bg-white rounded-full ml-1",animate:{x:o[a.key]?16:0},transition:{duration:.2}})})]},a.label))})]}),e.jsxs(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:`${s.card} p-4 md:p-6 rounded-xl shadow-sm border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(H,{className:`w-5 h-5 ${s.accent.replace("bg-","text-")}`}),e.jsx("h3",{className:`text-base md:text-lg font-semibold ${s.text}`,children:"Account"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,className:`w-full p-3 rounded-lg ${s.card} border dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 transition-colors flex items-center gap-2 ${s.text}`,children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]}),e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(!0),className:"w-full p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 hover:border-red-500 transition-colors flex items-center gap-2 text-red-600 dark:text-red-400",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Delete Account"})]})]})]})]}),e.jsx(O,{children:C&&e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:w,children:e.jsxs(t.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:`${s.card} p-6 rounded-xl max-w-md w-full border dark:border-gray-700`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:e.jsx(L,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:`text-lg font-semibold ${s.text}`,children:"Delete Account"})]}),e.jsx("p",{className:`${s.textSecondary} mb-4 text-sm`,children:"This action cannot be undone. All your data will be permanently deleted."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium ${s.text} mb-2`,children:"Enter your password to confirm"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:g?"text":"password",value:h,onChange:a=>u(a.target.value),className:`w-full px-3 py-2 pr-10 rounded-lg border ${s.card} ${s.text} border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Password"}),e.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:g?e.jsx(R,{className:"w-4 h-4 text-gray-500"}):e.jsx(U,{className:"w-4 h-4 text-gray-500"})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,className:`flex-1 px-4 py-2 rounded-lg border ${s.text} border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`,disabled:b,children:"Cancel"}),e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:T,className:"flex-1 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:b,children:b?"Deleting...":"Delete Account"})]})]})})})]})}export{K as Settings};
